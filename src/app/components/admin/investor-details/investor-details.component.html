<div class="container-fluid p-3 m-1">
  <!-- ============= breadCrumbs And Title ================= -->
  <div>
    <h1 class="title">Investor</h1>
    <app-breadcrumbs [data]="myBreadCrumbs"></app-breadcrumbs>
  </div>

  <div class="card shadow p-3 mt-4">

    <div
      class="container-fluid flex-space-between">
      <h1>Investment Requests</h1>
    </div>

    <div class="p-3 mb-3">

      <table class="table p3 mb-3">
        
        <thead id="tableHead">
          <td>
            <b> # </b>
          </td>
          <td>
            <b> Investor Name </b>
          </td>
          <td>
            <b>Amount To Invest </b>
          </td>
          <td>
            <b>Project To Invest </b>
          </td>
          <td colspan="2">
            <b> Action </b>
          </td>
        </thead>

        <br>

        <tbody>
          <tr *ngFor="let projectInvestor of projectInvestors;let i = index">
            <td> {{ i+1 }} </td>
            <td> {{ projectInvestor.investor.name }} </td>
            <td> {{ projectInvestor.investedShare }} </td>
            <td> {{ projectInvestor.project.projectName }} </td>
            <td> <button class="btn btn-outline-success" (click)="acceptInvestmentRequest(projectInvestor.investorProjectId)" > Accept </button></td>
          </tr>
        </tbody>

      </table>

    </div>
    
  </div> 
  
  <br><br><br>

  <!-- ============= Tables ================= -->

  <div class="p-3 mb-3 card shadow">
    <div class="container-fluid flex-space-between">
      <h1> All Investors </h1>
      <div>
        <button class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#create"> Add Investor </button>
      </div>
    </div>
    
    <table class="table p3 mb-3">
      
      <thead id="tableHead">
        <td>
          <b> # </b>
        </td>
        <td>
          <b> Name </b>
        </td>
        <td>
          <b> Email </b>
        </td>
        <td>
          <b> Phone number </b>
        </td>
        <td>
          <b> Experience </b>
        </td>
        <td>
          <b> Address </b>
        </td>
        <td colspan="1">
          <b> Action </b>
        </td>
      </thead>
      <br>
      <tbody>
        <tr *ngFor="let investor of Investors;let i = index;">
          <td> {{ i+1 }} </td>
          <td> {{ investor.name }} </td>
          <td> {{ investor.email }} </td>
          <td> {{ investor.phoneno }} </td>
          <td> {{ investor.experience }} </td>
          <td> {{ investor.address }} </td>
          <td> <button class="btn btn-outline-danger" (click)="delete(investor.investorId)" > Delete </button></td>
        </tr>
      </tbody>

    </table>

  </div>

</div>

<!-- ============== model ================== -->
<div class="modal fade" id="create" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title title"> Add New Investor </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">

        <form #createData="ngForm" (ngSubmit)="createInvestor(createData)">

            <div class="mb-3">
              <label for="name" class="form-label">Name</label>
              <input type="text" ngModel class="form-control" name="name">
            </div>

            <div class="mb-3">
              <label for="type" class="form-label">Email</label>
              <input type="email" ngModel class="form-control" name="email">
            </div>

            <div class="mb-3">
              <label for="start" class="form-label">Phone number</label>
              <input type="number" ngModel class="form-control" name="phone">
            </div>

            <div class="mb-3">
              <label for="end" class="form-label">Address</label>
              <input type="text" ngModel class="form-control" name="address">
            </div>   
            
            <div class="mb-3">
              <label for="start" class="form-label">Experience</label>
              <input type="number" ngModel class="form-control" name="experience">
            </div>

          <div>
            <button type="submit" class="btn btn-success container-fluid" data-bs-dismiss="modal" aria-label="Close"> Create </button>
          </div>

        </form>

      </div>

    </div>
  </div>
</div>

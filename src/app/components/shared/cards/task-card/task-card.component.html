<div
  id="task-card-main"
  class="container card border-left-5"
  data-bs-toggle="modal"
  [attr.data-bs-target]="'#create' + id">
  <h3 id="task-name"> <b> Task Name </b> <br> {{ taskName }}</h3>
  <div id="task-description">
    <h4> <b> Project Name </b> <br> {{ projectName }} </h4>
  </div>
  <div class="progress">
    <div
      class="progress-bar progress-bar-striped bg-outline-info active"
      role="progressbar"
      [style.width.%]="progressValue" 
      [attr.aria-valuenow]="progressValue"
      aria-valuemin="0"
      aria-valuemax="100">
       {{ progressValue }}%
    </div>
  </div>
  <br />
</div>

<!-- ============== model ================== -->
<div class="modal fade" id="create{{id}}" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content container-fluid">

      <div class="modal-header">
        <h2 class="modal-title title">{{ taskName }} </h2>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body container-fluid row align-center">

        <div class="flex-direction-column flex-space-between flex-wrap">
          
          <section> <b> Name           </b> <p> {{ task.taskName }} </p>  </section>
          <section> <b> Project name   </b> <p> {{ task.project.projectName }} </p>  </section>
          <section> <b> Start Date     </b> <p> {{ task.taskStartingDate }} </p>  </section>
          <section> <b> End Date       </b> <p> {{ task.taskDeadLine }} </p>  </section>
          <section *ngIf="user=='admin'"> <b> Contractor Name       </b> <p> {{ task.contractor.contractorName }} </p>  </section>
          <section *ngIf="user=='admin'"> <b> Contractor Number       </b> <p> {{ task.contractor.phoneNo }} </p>  </section>
          <section> <b> Budget         </b> <p> ${{ task.allocatedBudget }} </p>  </section>


        </div>
        <b> Task Status </b>
        
        <div class="progress col-10">
          <div class="progress-bar bg-info" role="progressbar" [style.width.%]="progressValue" [attr.aria-valuenow]="progressValue" aria-valuemin="0" aria-valuemax="100">
            {{ progressValue }}%
          </div>
        </div> &nbsp;
        
        <button class="col-auto btn btn-outline-dark" (click)="decreaseProgress()"> - </button> &nbsp;
        <button class="col-auto btn btn-outline-dark" (click)="increaseProgress()"> + </button>

      </div><br><br>
      
        <button class="btn btn-success col-auto" (click)="updateTaskStatus(progressValue)" data-bs-dismiss="modal" aria-label="Close"> Update </button> <br>
        <button *ngIf="user=='admin'" class="btn btn-danger col-auto" (click)="deleteTask()" data-bs-dismiss="modal" aria-label="Close"> Delete </button> <br>

    </div>
  </div>
</div>
